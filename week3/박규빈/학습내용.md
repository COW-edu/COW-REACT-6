# 📖 React Hooks: useState & useEffect

---

## 훅(Hook)이란?

React 훅(Hook)은 **함수 컴포넌트**에 **상태(state) 관리**나 **생명주기(lifecycle) 기능**을 "연결(hook in)"할 수 있게 해주는 특별한 함수이다. 예전에는 클래스 컴포넌트에서만 가능했던 복잡한 기능들을, 이제는 훨씬 간결하고 직관적인 코드로 함수 컴포넌트에서 구현할 수 있게 되었다.

이는 함수 컴포넌트에 여러 가지 능력을 추가할 수 있는 **도구**와 같다. 다음은 그중에서도 가장 중요하고 기본이 되는 두 가지 도구, `useState`와 `useEffect`에 대한 개념이다.

---

## 1. `useState`: 컴포넌트의 '기억'을 담당

`useState`는 컴포넌트에 **상태(state)**, 즉 **기억**을 추가하기 위한 훅이다. 사용자의 입력값, 클릭 여부, 서버에서 받아온 데이터 등 컴포넌트가 기억해야 할 값이 있을 때 사용한다.

- **역할**: 컴포넌트가 자신만의 '기억 공간'을 가질 수 있게 해준다.
- **특징**: `useState`로 만든 상태가 변경되면, 컴포넌트가 자동으로 다시 렌더링되어 화면이 업데이트된다.

### 기본적인 사용법

`useState`는 상태의 **현재 값**과 그 값을 **업데이트하기 위한 함수**, 이 두 가지를 쌍으로 제공한다.

```jsx
const [state, setState] = useState(initialState);
```

- **state**: 기억하고 싶은 값 (현재 상태)
- **setState**: state의 값을 변경하기 위한 전용 함수
- **initialState**: 상태가 처음에 가질 값 (초깃값)

### 실제 코드 예시 (Todo List 中)

사용자가 입력창에 타이핑하는 텍스트를 '기억'하기 위해 useState를 사용했다.

```jsx
// 파일: src/App.jsx

function App() {
  // 'input'이라는 이름의 기억 공간을 만들고, 초깃값으로 빈 문자열 ''을 설정
  // 'setInput'은 'input'의 값을 변경할 때 사용하는 전용 함수
  const [input, setInput] = useState('');

  // ...

  return (
    <div>
      {/* 사용자가 input 값을 변경할 때마다 onChange 이벤트가 발생,
        setInput 함수가 호출되어 'input' 상태가 최신 값으로 업데이트
      */}
      <TodoInput
        value={input}
        onChange={setInput}
        /* ... */
      />
      {/* ... */}
    </div>
  );
}
```

**TodoInput** 컴포넌트의 입력창에 글자를 입력할 때마다 **setInput**이 호출되고, **App** 컴포넌트는 **input**의 최신 값을 항상 '기억'했다가 화면에 보여준다.

---

## 2. `useEffect`: 특정 타이밍에 '행동'을 실행

`useEffect`는 "~할 때, ~를 실행한다" 와 같이, 특정 **사이드 이펙트(Side Effect)**를 컴포넌트 안에서 수행하고 싶을 때 사용하는 훅이다.

- **사이드 이펙트(Side Effect)**란?

  컴포넌트의 주된 임무인 '화면을 그리는 것(렌더링)' 외에 부수적으로 일어나는 모든 작업을 의미한다. 예를 들어 서버에 데이터를 요청하거나, DOM을 직접 조작하거나, 이번 예제처럼 `localStorage`에 데이터를 저장하는 작업 등이 해당된다.

### 기본적인 사용법

`useEffect`는 **실행하고 싶은 작업(함수)** 과, 그 작업을 실행할 타이밍을 결정하는 배열(의존성 배열), 이 두 가지를 인자로 받는다.

```jsx
useEffect(() => {
  // 여기에 실행하고 싶은 작업 넣기
}, [dependencies]);
```

- `() => { ... }`: 실행하고 싶은 사이드 이펙트 작업 내용이 담긴 함수이다.

- `[dependencies]`: **의존성 배열**이다. 이 배열 안에 들어있는 값들 중 **하나라도 변경되었을 때만** 첫 번째 인자의 함수가 실행된다.

### 실제 코드 예시 (Todo List 中)

`todos` (할 일 목록)가 변경될 때마다, 그 최신 목록을 `localStorage`에 자동으로 저장하기 위해 `useEffect`를 사용했다.

```jsx
// 파일: src/App.jsx

function App() {
  const [todos, setTodos] = useState(() => { /* ... */ });

  // ...

  // useEffect를 사용해 사이드 이펙트 관리
  useEffect(() => {
    // 실행하고 싶은 작업: todos 목록을 localStorage에 저장
    localStorage.setItem('todos', JSON.stringify(todos));

  // 실행할 타이밍: 의존성 배열인 [todos] 안의 todos 값이 바뀔 때만!
  }, [todos]);

  // ...

  return ( /* ... */ );
}
```

이 코드를 통해, 할 일이 추가되거나 삭제될 때마다 저장되는 것을 신경 쓸 필요가 없어졌다. `useEffect`가 `todos`의 변경을 감시하고 있다가, 적절한 타이밍에 알아서 저장 작업을 처리해준다.

---

## 느낀 점(궁금한 점 및 보완할 점)

1.  **다양한 기본 Hooks 활용하기**

    - `useState`와 `useEffect` 외에 React가 제공하는 다른 기본 Hook들은 어떤 상황에 사용되며, 어떻게 작동하는지 궁금하다.

2.  **복잡한 상태 관리의 어려움**
    - 현재는 `App` 컴포넌트에서 모든 상태를 관리하지만, 애플리케이션이 커지면 상태들이 서로 얽혀 관리가 어려워질 것 같다. 이를 보완하기 위해 어떤 코드와 기능이 필요할지 고민해야 될 것 같다.
