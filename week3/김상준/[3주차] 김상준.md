# 📚 3주차 학습 

## 1. Hooks란 무엇인가?

### 개념
Hooks는 **함수형 컴포넌트(Function Component)**에서  
클래스 컴포넌트가 제공하던 기능(상태 관리, 생명주기, 참조 등)을 사용할 수 있도록 만들어주는 **특별한 함수**입니다.

- 즉, “함수형 컴포넌트도 상태를 가질 수 있게 해주는 도구”라고 이해하면 됩니다.

### 도입 배경
- 초창기 React에서는 **클래스 컴포넌트만 상태(state)와 생명주기(lifecycle)**를 가질 수 있었음  
- 클래스 문법은 `this` 바인딩, 복잡한 로직으로 오류 발생 가능  
- React 16.8(2019) Hooks 도입 → 간결하고 선언적인 함수형 컴포넌트 작성 가능

### 특징
- **함수형 컴포넌트 전용** (클래스에서는 사용 불가)  
- **`use`로 시작하는 이름** (useState, useEffect, useRef 등)  
- **컴포넌트 최상위에서만 호출** (조건문·반복문 안 ❌)  
- React **내부 시스템(Fiber)**과 연결되어 상태, 효과, 참조 등을 관리  
- **상태값은 Fiber 슬롯에 저장**, **setState 호출 시 Fiber를 리렌더링 큐에 등록**  

---

## 2. useState

### 개념
- 컴포넌트 내부에서 **상태(state)를 관리**하기 위한 Hook  
- “값이 바뀌면 화면을 다시 그려야 하는 데이터”를 정의

### 기본 사용 예시
- Counter 컴포넌트에서 count 상태를 정의하고 버튼 클릭 시 증가시키는 예시
```jsx
import { useState } from "react";

function Counter() {
  // 상태 변수 count와 이를 변경하는 함수 setCount 선언
  const [count, setCount] = useState(0); // 초기값 0

  return (
    <div>
      <p>현재 카운트: {count}</p>
      <button onClick={() => setCount(count + 1)}>+1</button>
    </div>
  );
}

export default Counter;
```

### 작동 방식
- **컴포넌트가 처음 렌더링될 때** React가 내부 **Fiber 슬롯**에 상태 저장 공간 생성  
- 상태 변경(setState) → Fiber 상태값 업데이트 → 컴포넌트 **리렌더링**  
- 새 상태 값이 반영된 UI가 자동으로 다시 그려짐  

### 특징 요약
- `[현재값, 변경함수]` 구조 분해 할당 반환  
- 상태는 **불변성 유지** (기존 객체/배열을 직접 수정하지 않고 새 값으로 교체)  
- React는 상태 변경 시 **Virtual DOM 계산 → 변경된 부분만 실제 DOM 반영**  
- 상태는 **Fiber에 저장되어 Hook 호출 간 값이 유지**  

---

## 3. useEffect

### 개념
- 컴포넌트의 **부수 효과(side effects)**를 처리하기 위한 Hook  
- 부수 효과 = 렌더링 이외에 발생하는 외부 연동 동작  
  - 예: 서버 요청(fetch), DOM 조작, 타이머, 이벤트 리스너 등  
- “렌더링 이후에 해야 할 일” 담당

### 기본 사용 예시
- count 상태가 바뀔 때마다 문서 제목(document.title)을 업데이트하는 예시  
- 타이머, 구독 등 리소스를 정리(clean-up)하는 예시
```jsx
import { useEffect } from "react";

function Timer() {
  useEffect(() => {
    const id = setInterval(() => console.log("tick"), 1000);

    // cleanup 함수: 컴포넌트 언마운트 시 타이머 제거
    return () => clearInterval(id);
  }, []); // 빈 배열 -> 처음 렌더링 시 1번만 실행

  return <p>타이머 실행 중...</p>;
}

export default Timer;
```

### 작동 방식
- 렌더링 **완료 후** React가 useEffect 안 콜백 실행  
- 의존성 배열에 지정된 값이 바뀔 때만 effect 실행  
- **cleanup 함수** 반환 시, 컴포넌트 언마운트 또는 다음 effect 실행 전에 수행

### 특징 요약
- 렌더링 이후 실행되는 후처리 작업  
- 상태 변경 후 실행 가능 → 화면과 데이터 동기화  
- Fiber의 **effect 슬롯**에 콜백 등록, 렌더링 흐름과 연결  
- cleanup 지원 → 타이머, 구독 해제 등 안전한 리소스 관리 가능
