# ğŸ“š 6ì£¼ì°¨ í•™ìŠµ â€” React Router (ê¸°ë³¸, ì¤‘ì²©, ì¸ì¦ ë¼ìš°íŒ…)

## 1ï¸âƒ£ React Routerë€?
> â€œSPA(Single Page Application)ì—ì„œ í˜ì´ì§€ ì´ë™ì„ í‰ë‚´ ë‚´ê¸° ìœ„í•œ í´ë¼ì´ì–¸íŠ¸ ë¼ìš°íŒ… ì‹œìŠ¤í…œâ€

React RouterëŠ” ë¸Œë¼ìš°ì €ì˜ ì£¼ì†Œ(URL)ë¥¼ ê°ì‹œí•˜ê³ ,  
ì£¼ì†Œê°€ ë°”ë€” ë•Œë§ˆë‹¤ ìƒˆ HTMLì„ ìš”ì²­í•˜ì§€ ì•Šê³  **ì»´í¬ë„ŒíŠ¸ë§Œ êµì²´**í•´ì„œ í™”ë©´ì„ ì „í™˜í•œë‹¤.  
ì¦‰, **HTML êµì²´ ëŒ€ì‹  ì»´í¬ë„ŒíŠ¸ êµì²´ë¡œ í˜ì´ì§€ ì´ë™ì„ êµ¬í˜„**í•˜ëŠ” ë°©ì‹ì´ë‹¤.

---

## 2ï¸âƒ£ ê¸°ë³¸ ë¼ìš°íŒ… (Basic Routing)

### ğŸ“– ê°œë…
> â€œì£¼ì†Œ í•˜ë‚˜ â†” ë¼ìš°íŠ¸ í•˜ë‚˜ â†” ëŒ€í‘œ ì»´í¬ë„ŒíŠ¸ í•˜ë‚˜â€

ê° ì£¼ì†Œ(URL)ì— ë§ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ëŠ” ê°€ì¥ ê¸°ë³¸ì ì¸ êµ¬ì¡°ì´ë‹¤.  
ë¼ìš°í„°ëŠ” ì£¼ì†Œê°€ ë°”ë€Œë©´ í•´ë‹¹ ì£¼ì†Œì™€ ì¼ì¹˜í•˜ëŠ” ë¼ìš°íŠ¸ì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ì°¾ì•„ ë Œë”ë§í•œë‹¤.

ğŸ’» **ì½”ë“œ ì˜ˆì‹œ:**  
BrowserRouterì™€ Routesë¥¼ ì´ìš©í•´ `/`ì™€ `/about` ê²½ë¡œì— ê°ê° Home, About ì»´í¬ë„ŒíŠ¸ë¥¼ ì—°ê²°í•œë‹¤.
```
// App.jsx
import { BrowserRouter, Routes, Route, Link } from "react-router-dom";

function Home() { return <h2>í™ˆ</h2>; }
function About() { return <h2>ì†Œê°œ</h2>; }

export default function App() {
  return (
    <BrowserRouter>
      <nav>
        <Link to="/">í™ˆ</Link> | <Link to="/about">ì†Œê°œ</Link>
      </nav>
      <Routes>
        <Route path="/" element={<Home />} />        {/* ì£¼ì†Œ / */}
        <Route path="/about" element={<About />} />  {/* ì£¼ì†Œ /about */}
      </Routes>
    </BrowserRouter>
  );
}
```

- `/` â†’ Home ì»´í¬ë„ŒíŠ¸  
- `/about` â†’ About ì»´í¬ë„ŒíŠ¸  

> ì¦‰, **ì£¼ì†Œ í•˜ë‚˜ì— ëŒ€ì‘í•˜ëŠ” ë¼ìš°íŠ¸ í•˜ë‚˜**,  
> ê·¸ ë¼ìš°íŠ¸ëŠ” **ëŒ€í‘œ ì»´í¬ë„ŒíŠ¸ í•˜ë‚˜**ë¥¼ ë Œë”ë§í•˜ê³ ,  
> ê·¸ ì•ˆì—ì„œ ì—¬ëŸ¬ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë¥¼ ì¡°í•©í•´ í•˜ë‚˜ì˜ í™”ë©´ì„ êµ¬ì„±í•œë‹¤.

---

## 3ï¸âƒ£ ì¤‘ì²© ë¼ìš°íŒ… (Nested Routing)

### ğŸ“– ê°œë…
> â€œë¶€ëª¨ ì£¼ì†Œ ì•ˆì— ì—¬ëŸ¬ í•˜ìœ„ ì£¼ì†Œë¥¼ ë‘ê³ , ê³µí†µ ë ˆì´ì•„ì›ƒì„ ìœ ì§€í•˜ë©´ì„œ ë‚´ë¶€ í™”ë©´ë§Œ êµì²´í•˜ëŠ” êµ¬ì¡°â€

ì¤‘ì²© ë¼ìš°íŒ…ì€ URLì´ ê³„ì¸µ êµ¬ì¡°(`/settings/account`, `/settings/profile`)ë¥¼ ê°€ì§ˆ ë•Œ ìœ ìš©í•˜ë‹¤.  
ë¶€ëª¨ ë¼ìš°íŠ¸ëŠ” ê³µí†µ UI(í—¤ë”, ë©”ë‰´ ë“±)ë¥¼ ë‹´ë‹¹í•˜ê³ ,  
ìì‹ ë¼ìš°íŠ¸ëŠ” ê·¸ ì•ˆì—ì„œ `<Outlet>` ìœ„ì¹˜ì— êµì²´ë˜ì–´ ë Œë”ë§ëœë‹¤.

ğŸ’» **ì½”ë“œ ì˜ˆì‹œ:**  
`/settings`ë¥¼ ë¶€ëª¨ ë¼ìš°íŠ¸ë¡œ ë‘ê³ ,  
ê·¸ í•˜ìœ„ì— `/settings/account`, `/settings/security` ë“±ì„ ìì‹ ë¼ìš°íŠ¸ë¡œ ë‘”ë‹¤.  
ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸(SettingsLayout) ì•ˆì˜ `<Outlet>`ì— ìì‹ì´ êµì²´ë˜ì–´ ë“¤ì–´ê°„ë‹¤.
```
// App.jsx
import { BrowserRouter, Routes, Route, Outlet, Link } from "react-router-dom";

function Layout() {
  return (
    <div>
      <h1>âš™ ì„¤ì •</h1>
      <Link to="">í”„ë¡œí•„</Link> | <Link to="account">ê³„ì •</Link>
      <hr />
      <Outlet /> {/* ìì‹ ë¼ìš°íŠ¸ê°€ ì—¬ê¸°ì— ë“¤ì–´ê° */}
    </div>
  );
}

function Profile() { return <p>í”„ë¡œí•„ í™”ë©´</p>; }
function Account() { return <p>ê³„ì • í™”ë©´</p>; }

export default function App() {
  return (
    <BrowserRouter>
      <Routes>
        <Route path="/settings" element={<Layout />}>
          <Route index element={<Profile />} />       {/* /settings */}
          <Route path="account" element={<Account />} /> {/* /settings/account */}
        </Route>
      </Routes>
    </BrowserRouter>
  );
}
```

### ğŸ“Œ íŠ¹ì§•
| êµ¬ë¶„ | ì„¤ëª… |
|------|------|
| **ë¶€ëª¨ ë¼ìš°íŠ¸** | ê³µí†µ ë ˆì´ì•„ì›ƒ(í—¤ë”, ë©”ë‰´ ë“±)ì„ ìœ ì§€ |
| **ìì‹ ë¼ìš°íŠ¸** | ë¶€ëª¨ì˜ Outlet ì˜ì—­ì— êµì²´ë˜ì–´ ë Œë”ë§ |
| **URL êµ¬ì¡°** | `/settings`, `/settings/account`, `/settings/security` |
| **íš¨ê³¼** | ì „ì²´ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ ì—†ì´ ë‚´ë¶€ ë‚´ìš©ë§Œ êµì²´ |

> ì¦‰, **ê¸°ë³¸ ë¼ìš°íŒ…ì€ í˜ì´ì§€ ë‹¨ìœ„ ì „í™˜**,  
> **ì¤‘ì²© ë¼ìš°íŒ…ì€ í˜ì´ì§€ ë‚´ë¶€ì˜ ë¶€ë¶„ ì „í™˜** êµ¬ì¡°ë¼ê³  ë³´ë©´ ëœë‹¤.

---

## 4ï¸âƒ£ ì¸ì¦ ë¼ìš°íŒ… (Protected Routing)

### ğŸ“– ê°œë…
> â€œíŠ¹ì • ì£¼ì†Œì— ì ‘ê·¼í•˜ê¸° ì „ì— ë¡œê·¸ì¸ ìƒíƒœ ë“± ì¡°ê±´ì„ ê²€ì‚¬í•˜ëŠ” ë¼ìš°íŠ¸ êµ¬ì¡°â€

ì¸ì¦ ë¼ìš°íŒ…ì€ â€œë¡œê·¸ì¸í•œ ì‚¬ìš©ìë§Œ ì ‘ê·¼ ê°€ëŠ¥â€í•œ í˜ì´ì§€ë¥¼ ë³´í˜¸í•œë‹¤.  
ë¼ìš°í„°ê°€ ì£¼ì†Œë¥¼ ë§¤ì¹­í•œ ë’¤, ë Œë”ë§ ì „ì— ì „ì—­ ìƒíƒœë‚˜ í† í°ì„ í™•ì¸í•´  
ë¡œê·¸ì¸ë˜ì§€ ì•Šì•˜ìœ¼ë©´ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸í•œë‹¤.

ğŸ’» **ì½”ë“œ ì˜ˆì‹œ:**  
ProtectedRouteë¼ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ì–´,  
localStorageì˜ í† í° ë˜ëŠ” ì „ì—­ ìƒíƒœë¥¼ í™•ì¸í•˜ê³   
ë¡œê·¸ì¸ë˜ì§€ ì•Šì•˜ì„ ê²½ìš° `/login`ìœ¼ë¡œ ì´ë™ì‹œí‚¨ë‹¤.
```
// ProtectedRoute.jsx
import { Navigate } from "react-router-dom";
export default function ProtectedRoute({ children }) {
  const token = localStorage.getItem("token");
  return token ? children : <Navigate to="/login" replace />;
}
```
```
// App.jsx
import { BrowserRouter, Routes, Route } from "react-router-dom";
import ProtectedRoute from "./ProtectedRoute";

function Login() {
  return (
    <button onClick={() => localStorage.setItem("token", "ok")}>
      ë¡œê·¸ì¸
    </button>
  );
}
function Dashboard() { return <h2>ëŒ€ì‹œë³´ë“œ (ë¡œê·¸ì¸ í•„ìš”)</h2>; }

export default function App() {
  return (
    <BrowserRouter>
      <Routes>
        <Route path="/login" element={<Login />} />
        <Route
          path="/dashboard"
          element={
            <ProtectedRoute>
              <Dashboard />
            </ProtectedRoute>
          }
        />
      </Routes>
    </BrowserRouter>
  );
}
```
### ğŸ”’ ë™ì‘ ê³¼ì •
1. ì‚¬ìš©ìê°€ `/dashboard` ì£¼ì†Œë¡œ ì ‘ê·¼  
2. ë¼ìš°í„°ê°€ í•´ë‹¹ ë¼ìš°íŠ¸ë¥¼ ì°¾ìŒ â†’ ProtectedRoute ì‹¤í–‰  
3. ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸ (í† í° ë˜ëŠ” ì „ì—­ ìƒíƒœ)  
4. ë¡œê·¸ì¸ ì•ˆë¨ â†’ `/login` ìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸  
5. ë¡œê·¸ì¸ë¨ â†’ Dashboard ì»´í¬ë„ŒíŠ¸ ë Œë”ë§

### ğŸ“Œ êµ¬ì¡°
| ë‹¨ê³„ | ì—­í•  | ì„¤ëª… |
|------|------|------|
| **ì£¼ì†Œ(URL)** | ì ‘ê·¼í•˜ë ¤ëŠ” ê²½ë¡œ | `/dashboard` |
| **ë¼ìš°í„°** | ì£¼ì†Œì™€ ë¼ìš°íŠ¸ ë§¤ì¹­ | ProtectedRoute |
| **ìƒíƒœ í™•ì¸** | localStorage / Context ë“± | ë¡œê·¸ì¸ ì—¬ë¶€ íŒë‹¨ |
| **ë Œë”ë§ ê²°ì •** | Navigate or children | ë¦¬ë‹¤ì´ë ‰íŠ¸ ë˜ëŠ” í˜ì´ì§€ í‘œì‹œ |

> React ë¼ìš°í„°ëŠ” â€œì´ ë¸Œë¼ìš°ì €ê°€ ë¡œê·¸ì¸ ìƒíƒœì¸ê°€?â€ë§Œ í™•ì¸í•œë‹¤.  
> â€œëˆ„ê°€ ë¡œê·¸ì¸í–ˆëŠ”ê°€(pk)â€ëŠ” ì„œë²„ê°€ íŒë‹¨í•œë‹¤.

---

## 5ï¸âƒ£ ë¡œê·¸ì¸ ìƒíƒœ ê´€ë¦¬ êµ¬ì¡°

ë¡œê·¸ì¸ ìƒíƒœëŠ” ë³´í†µ ì„¸ ê°€ì§€ ê³„ì¸µìœ¼ë¡œ ë‚˜ë‰œë‹¤.

| êµ¬ë¶„ | ì €ì¥ ìœ„ì¹˜ | ë‚´ìš© | ì§€ì†ì„± |
|------|------------|------|--------|
| **ì„œë²„ DB** | ë°±ì—”ë“œ | ì‹¤ì œ ìœ ì € ì •ë³´ (id, ë¹„ë°€ë²ˆí˜¸ ë“±) | ì˜êµ¬ |
| **localStorage / cookie** | ë¸Œë¼ìš°ì € | ë¡œê·¸ì¸ í† í° (ì„œë²„ ê²€ì¦ìš©) | ë¸Œë¼ìš°ì €ì— ë‚¨ìŒ |
| **ì „ì—­ ìƒíƒœ(Context ë“±)** | React ë©”ëª¨ë¦¬ | ë¡œê·¸ì¸ ì—¬ë¶€ / ì‚¬ìš©ì ì •ë³´ | ì•± ì‹¤í–‰ ì¤‘ë§Œ ìœ ì§€ |

ë¡œê·¸ì¸ í›„ ì„œë²„ê°€ ì¤€ í† í°ì„ localStorageì— ì €ì¥í•˜ê³ ,  
ì•±ì´ ì‹¤í–‰ë  ë•Œ ê·¸ í† í°ì„ í™•ì¸í•´ ì „ì—­ ìƒíƒœë¥¼ ë³µì›í•œë‹¤.  
ProtectedRouteëŠ” ì´ ì „ì—­ ìƒíƒœë¥¼ ì½ì–´ â€œì ‘ê·¼ ê°€ëŠ¥ ì—¬ë¶€â€ë¥¼ íŒë‹¨í•œë‹¤.

---

## 6ï¸âƒ£ ì „ì²´ íë¦„ ìš”ì•½

1. ì‚¬ìš©ìê°€ `/dashboard` ì£¼ì†Œë¡œ ì ‘ê·¼  
2. ë¼ìš°í„°(BrowserRouter)ê°€ URL ê°ì§€  
3. ProtectedRoute ì‹¤í–‰  
4. ì „ì—­ ìƒíƒœ ë˜ëŠ” localStorageì—ì„œ ë¡œê·¸ì¸ ì—¬ë¶€ í™•ì¸  
5. ë¡œê·¸ì¸ë¨ â†’ Dashboard ë Œë”ë§  
6. ë¯¸ë¡œê·¸ì¸ â†’ `/login` ìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸

---

## 7ï¸âƒ£ í•µì‹¬ ë¹„êµ ìš”ì•½

| êµ¬ë¶„ | ê°œë… | ë™ì‘ ë°©ì‹ | ì˜ˆì‹œ |
|------|------|------------|------|
| **ê¸°ë³¸ ë¼ìš°íŒ…** | ì£¼ì†Œ 1ê°œ â†” ì»´í¬ë„ŒíŠ¸ 1ê°œ | ì „ì²´ í™”ë©´ êµì²´ | `/`, `/about` |
| **ì¤‘ì²© ë¼ìš°íŒ…** | ë¶€ëª¨ ì£¼ì†Œ ì•ˆì— í•˜ìœ„ ì£¼ì†Œ | ë¶€ëª¨ ìœ ì§€, ìì‹ êµì²´ | `/settings/account` |
| **ì¸ì¦ ë¼ìš°íŒ…** | ì ‘ê·¼ ì „ ìƒíƒœ í™•ì¸ | ì¡°ê±´ í†µê³¼ ì‹œ ë Œë”ë§ | `/dashboard` (ë¡œê·¸ì¸ í•„ìš”) |

---

## âœ… ê²°ë¡ 

React RouterëŠ” SPAì—ì„œ ì£¼ì†Œì™€ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§¤í•‘í•´  
HTMLì„ ìƒˆë¡œ ë¶ˆëŸ¬ì˜¤ì§€ ì•Šê³  í™”ë©´ì„ êµì²´í•œë‹¤.

- **ê¸°ë³¸ ë¼ìš°íŒ…** â†’ í˜ì´ì§€ ë‹¨ìœ„ ì „í™˜  
- **ì¤‘ì²© ë¼ìš°íŒ…** â†’ ê³µí†µ ë ˆì´ì•„ì›ƒ ìœ ì§€, ë‚´ë¶€ ì „í™˜  
- **ì¸ì¦ ë¼ìš°íŒ…** â†’ ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸, ì ‘ê·¼ ì œì–´

> React RouterëŠ” **ì£¼ì†Œ(URL)** ì™€ **ìƒíƒœ(State)** ë¥¼ ê¸°ë°˜ìœ¼ë¡œ  
> ì–´ë–¤ **ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í• ì§€ ê²°ì •í•˜ëŠ” í™”ë©´ ì „í™˜ ì—”ì§„**ì´ë‹¤.
